app = "apintake"
primary_region = "sin"

[build]
  dockerfile = "Dockerfile"

[env]
  TZ = "Asia/Kuala_Lumpur"
  # DB_PATH is set in Dockerfile; keep here too if you want explicit override:
  DB_PATH = "/data/queue.db"
  # Optional tuning (uncomment if you use these envs in code)
  # MAX_POSTS_PER_DAY = "2"
  # MIN_GAP_MINUTES = "180"

# Run as a simple worker (no HTTP service required for polling bots)
[processes]
  app = "python main.py"

# Persistent volume for SQLite (queue/db survives redeploys)
[mounts]
  source = "data"
  destination = "/data"

# Minimal VM size for a polling bot
[[vm]]
  memory = "256mb"
  cpu_kind = "shared"
  cpus = 1

# Health checks are optional; omit if you don't expose HTTP
